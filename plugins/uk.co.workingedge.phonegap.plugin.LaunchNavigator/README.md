Launch Navigator Cordova/Phonegap Plugin
=================================

This Cordova/PhoneGap Plugin provides a mechanism to launch the native navigation app on iOS (Apple Maps), Android (Google Navigator), and Windows (Bing Maps) to get driving directions to a desired location. 

This is for Cordova/Phonegap 3+

## Contents

* [Installing](#installing)
* [Using the plugin](#using-the-plugin)
    * [Example usage](#example-usage)
        * [Example project](#example-project)
    * [Deprecated functions](#deprecated-functions)
* [Caveats](#caveats)
    * [Windows](#windows)
* [Reporting issues](#reporting-issues)
* [Credits](#credits)
* [License](#license)
 
# Installing

## Automatically with CLI / Plugman

Launch Navigator can be installed with [Cordova Plugman](https://github.com/apache/cordova-plugman) and the [PhoneGap CLI](http://docs.phonegap.com/en/edge/guide_cli_index.md.html).

Here's how to install it with the CLI:


    $ cordova plugin add uk.co.workingedge.phonegap.plugin.launchnavigator

OR

    $ phonegap plugin add uk.co.workingedge.phonegap.plugin.launchnavigator


# Using the plugin

The plugin has single function which launches the navigation app with the location specified as the destination.

    launchnavigator.navigate(destination, start, successCallback, errorCallback);

## Parameters

- destination (required): destination location to use for navigation, either as a String specifying the place name, or as an Array specifying latitude/longitude.
- start (optional): start location to use for navigation, either as a String specifying the place name, or as an Array specifying latitude/longitude. If not specified, the current device location will be used.
- successFn (optional): Called when plugin the call is successful.
- errorFn (optional): Called when plugin encounters an error. This callback function will be passed an error message string as the first parameter.

## Example usage

Navigate by place name:

    launchnavigator.navigate(
      "London, UK",
      "Manchester, UK",
      function(){
          alert("Plugin success");
      },
      function(error){
          alert("Plugin error: "+ error);
      });

Navigate by latitude/longitude:

    launchnavigator.navigate(
      [50.279306, -5.163158],
      [50.342847, -4.749904],
      function(){
          alert("Plugin success");
      },
      function(error){
          alert("Plugin error: "+ error);
      });

Navigate from current location:

    launchnavigator.navigate(
      "London, UK",
      null,
      function(){
          alert("Plugin success");
      },
      function(error){
          alert("Plugin error: "+ error);
      });

### Example project

https://github.com/dpa99c/phonegap-launch-navigator-example

The above link is to an example Cordova 3 project which demonstrates usage of this plugin.
The examples currently run on Android, iOS, Windows Phone 8.1, and Windows 8.1 (PC) platforms.

## Deprecated functions

The old version of this plugin provided two separate functions in order to specify the destination either by name: `navigateByPlaceName` or by lat/lon: `navigateByLatLon`
These functions are still present in the plugin for backward compatibility, but are deprecated in favour of using the `navigate()` and may be removed in a future version of the plugin.


# Caveats

## Windows

- The plugin is compatible with Windows 8.1 on any PC and on Windows Phone 8.1 using the Universal .Net project generated by Cordova: `cordova platform add windows`

- Bing Maps will require the user to press the enter key to initiate navigation if you don't provide the start location.
The Geolocation plugin can be used to find the current location of the user: `org.apache.cordova.geolocation`, for example:

        navigator.geolocation.getCurrentPosition(function(pos) {
          launchnavigator.navigate(
            "London, UK",
            [pos.coords.latitude, pos.coords.longitude],
            function(){
                alert("Plugin success");
            },
            function(error){
                alert("Plugin error: "+ error);
            });
        });

# Reporting issues

Before reporting issues with this plugin, please first do the following:

- Check the existing lists of [open issues](https://github.com/dpa99c/phonegap-launch-navigator/issues) and [closed issues](https://github.com/dpa99c/phonegap-launch-navigator/issues?q=is%3Aissue+is%3Aclosed)
- Check your target country is supported for turn-by-turn by the native navigation app
  - [Apple Maps country list for iOS](https://www.apple.com/ios/feature-availability/#maps-turn-by-turn-navigation)
  - [Google Maps country list for Android](https://support.google.com/gmm/answer/3137767?hl=en-GB)
  - TBC: Bing Maps country list for Windows
- If possible, test using the [example project](https://github.com/dpa99c/phonegap-launch-navigator-example) to eliminate the possibility of a bug in your code rather than the plugin.


When reporting issues, please give the following information:

- A clear description of the problem

- OS version(s) and device (or emulator) model(s) on which the problem was observed

- Code example of calling the plugin which results in the observed issue

- Example parameters (locations or place names) which results in the observed issue


# Credits

Thanks to [opadro](https://github.com/opadro) for Windows implementation

License
================

The MIT License

Copyright (c) 2014 Working Edge Ltd.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.